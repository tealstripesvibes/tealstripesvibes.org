import {jobs}        from "./jobs";
import {MainHeader}  from "../../../../_include";
import {JobItemForm} from "./Form";

<MainHeader/>
<main>
  <article>
    <section>
      <ul>
        {
          jobs.reduce((acc, curr) => {
            const clusterSize = 10;
            const lastCluster = acc[acc.length - 1];
            if (!lastCluster) {
              acc.push([curr]);
              return acc;
            }
            if (lastCluster.length < clusterSize) {
              lastCluster.push(curr);
            } else {
              acc.push([curr]);
            }

            return acc;
          }, []).map(arr => (
            <div style={{margin: '2rem 0'}}>
              <ul>
                {
                  arr.map((url) => <li key={url}>
                    <a href={url}>{url}</a>

                    <JobItemForm id={/\/view\/(.+)\b/.exec(url)[1]}/>
                  </li>)
                }
              </ul>
            </div>
          ))
        }
      </ul>
    </section>
  </article>
</main>